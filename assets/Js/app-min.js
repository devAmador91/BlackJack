(()=>{"use strict";let e=[],t=["C","D","H","S"],d=["A","J","Q","K"],a=0,n=0,o=document.getElementById("pedirCarta"),r=document.getElementById("nuevoJuego"),l=document.getElementById("detener"),i=()=>{for(let a of(e=[],t))for(let n=2;n<=10;n++)e.push(n+a);for(let o of t)for(let r of d)e.push(r+o);e=_.shuffle(e)},s=()=>{i()},u=()=>{if(0===e.length)throw"No hay cartas en el mazo";return e.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:parseInt(t)},g=(e,t)=>{"usuario"===t?(a+=e,document.getElementById("puntuacionJugador").textContent=a):(n+=e,document.getElementById("puntuacionComputadora").textContent=n),"usuario"===t?a>21?(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Perdiste")},1e3),c("computadora")):21===a&&(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Haz Ganado")},1e3)):"computadora"===t&&(21===n?(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Perdiste")},1e3)):n>=a&&(n===a?(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Empate")},1e3)):n<21?(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Perdiste")},1e3)):(o.disabled=!0,l.disabled=!0,setTimeout(()=>{alert("Haz Ganado")},1e3))))},c=e=>{let t=u(),d=document.createElement("img");d.src=`./assets/cartas/${t}.png`,d.classList.add("carta"),"usuario"===e?document.getElementById("jugador-usuario").appendChild(d):document.getElementById("jugador-computadora").appendChild(d),g($(t),e)},m=()=>{do c("computadora");while(n<a)};r.addEventListener("click",()=>{let e=document.getElementById("jugador-usuario"),t=document.getElementById("jugador-computadora");e.innerHTML="",t.innerHTML="",a=0,n=0,document.getElementById("puntuacionJugador").textContent=a,document.getElementById("puntuacionComputadora").textContent=n,o.disabled=!1,l.disabled=!1,s()}),o.addEventListener("click",()=>c("usuario")),l.addEventListener("click",m)})();